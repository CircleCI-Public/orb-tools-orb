description: |
  Lint all YAML files in the project. A ".yamllint" file will be generated for you automatically by the Orb Development Kit.

parameters:
  source_dir:
    description: Path to the orb source. Path must be absolute or relative to the working directory.
    type: string
    default: ./src/
  resource_class:
    description: Configure the executor resource class
    type: enum
    enum:
      ["small", "medium", "medium+", "large", "xlarge", "2xlarge", "2xlarge+"]
    default: "medium"
  checkout:
    type: boolean
    default: true
    description: |
      If you do not wish to checkout the source code, you may disable this behavior. Replace the checkout and add your own command or steps via the 'pre-steps' parameter in your workflow.


docker:
  - image: cimg/python:3.10.5
resource_class: << parameters.resource_class >>

steps:
  - when:
      condition: <<parameters.checkout>>
      steps:
        - checkout
  - run:
      name: Linting all YAML files
      command: <<include(scripts/lint.sh)>>
      environment:
        ORB_VAL_SOURCE_DIR: << parameters.source_dir >>
